<div class="requests-container">
  <div class="requests-header">
    <h2>Mes Demandes</h2>
    <div class="filters">
      <select class="filter-select">
        <option value="all">Toutes les demandes</option>
        <option value="pending">En attente</option>
        <option value="approved">Approuvées</option>
        <option value="rejected">Rejetées</option>
      </select>
      <button class="btn-new" (click)="createNewRequest()">
        <i class="fas fa-plus"></i>
        Nouvelle Demande
      </button>
    </div>
  </div>

  <div class="requests-list">
    <div class="request-card" *ngFor="let request of requests">
      <div class="request-header">
        <div class="request-type">
          <i class="fas" [ngClass]="{
            'fa-calendar-alt': request.type === 'Congé annuel',
            'fa-graduation-cap': request.type === 'Formation',
            'fa-file-alt': request.type === 'Attestation de travail'
          }"></i>
          {{ request.type }}
        </div>
        <div class="request-status" [ngClass]="{'en-attente': request.status === 'En attente',
                                                 'approuvée': request.status === 'Approuvée',
                                                 'rejetée': request.status === 'Rejetée'}">
          {{ request.status }}
        </div>
      </div>

      <div class="request-body">
        <div class="request-date">
          <i class="far fa-clock"></i>
          {{ request.date }}
        </div>
        <div class="request-description">
          {{ request.description }}
        </div>
      </div>

      <div class="request-actions">
        <button class="btn-details" (click)="viewDetails(request.id); $event.stopPropagation()">
          <i class="fas fa-eye"></i>
          Voir détails
        </button>
        <button class="btn-edit" *ngIf="request.status === 'En attente'" (click)="editRequest(request.id, request.type); $event.stopPropagation()">
          <i class="fas fa-edit"></i>
          Modifier
        </button>
      </div>
    </div>
  </div>
</div>
